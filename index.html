<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adwait Sharma | AIS Lab</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Manrope:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <style>
        /* --- SYSTEM: SCANDINAVIAN INDUSTRIAL (REFINED) --- */
        :root {
            --bg-core: #FFFFFF;
            --bg-lab-group: #FAFAFA; 
            --bg-dark-module: #1A1A1A; 
            --border: #E5E5E5;
            --border-dark: #333333;
            --text-main: #111111;
            --text-body: #555555; 
            --text-meta: #888888;
            --accent: #2563EB;
            
            --font-head: 'Manrope', sans-serif;
            --font-body: 'Inter', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            
            /* --- SPACING SYSTEM --- */
            --pad-section: 100px; 
            --pad-x: 60px;
            --radius-soft: 8px; 
            --ease: cubic-bezier(0.16, 1, 0.3, 1);
            --nav-height: 80px; 
        }

        /* RESET & BASE */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        html { 
            scroll-behavior: smooth; 
            font-size: 16px; 
            -webkit-font-smoothing: antialiased; 
            scroll-padding-top: var(--nav-height); 
        }
        body { background-color: var(--bg-core); color: var(--text-main); font-family: var(--font-body); font-size: 1rem; line-height: 1.6; }
        a { text-decoration: none; color: inherit; transition: color 0.2s; }
        a:hover { color: var(--accent); }
        img { display: block; max-width: 100%; height: auto; }
        button { font-family: inherit; border: none; background: none; cursor: pointer; }

        /* TYPOGRAPHY */
        .t-h1 { font-family: var(--font-head); font-weight: 500; font-size: 3.5rem; letter-spacing: -0.03em; line-height: 1.1; color: var(--text-main); }
        
        .t-h2 { 
            font-family: var(--font-head); 
            font-weight: 500; 
            font-size: 2rem; 
            letter-spacing: -0.02em; 
            line-height: 1.2; 
            color: var(--text-main); 
            border-bottom: 1px solid var(--border);
            padding-bottom: 20px;
            margin-bottom: 40px; 
            display: block;
            width: 100%;
        }
        
        .t-h3 { font-family: var(--font-head); font-weight: 600; font-size: 1.5rem; letter-spacing: -0.02em; line-height: 1.3; color: var(--text-main); }
        .t-body { font-size: 1rem; color: var(--text-body); font-weight: 300; }
        .t-mono { font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-meta); }

        /* LAYOUT & CONTAINER */
        .container { max-width: 1440px; margin: 0 auto; border-left: 1px solid var(--border); border-right: 1px solid var(--border); position: relative; background: var(--bg-core); }
        
        .section-pad { padding: var(--pad-section) var(--pad-x); }
        
        /* The Lab Grouping */
        #ais-lab {
            background-color: var(--bg-lab-group);
            width: 100%;
            padding: 0;
            position: relative;
            border-bottom: 1px solid var(--border);
            border-top: 1px solid var(--border);
        }

        #ais-lab section { background: transparent; }
        
        #aislab-hero {
            padding: var(--pad-section) var(--pad-x) !important;
            text-align: center;
        }

        /* NAVIGATION */
        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 0 var(--pad-x); height: var(--nav-height); position: sticky; top: 0; background: rgba(255,255,255,0.95); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border); z-index: 1000; }
        .nav-brand { font-family: var(--font-head); font-weight: 800; font-size: 1rem; letter-spacing: -0.01em; text-transform: uppercase; }
        .nav-links { display: flex; gap: 32px; }
        
        .nav-link { font-family: var(--font-mono); font-size: 0.95rem; font-weight: 500; color: var(--text-meta); text-transform: uppercase; letter-spacing: 0.05em; transition: 0.2s; position: relative; }
        
        .nav-link:hover, .nav-link.active { color: var(--text-main); }
        .nav-link.active::after { content: ''; position: absolute; bottom: -4px; left: 0; width: 100%; height: 1px; background: var(--text-main); }
        .menu-toggle { display: none; font-size: 1.5rem; }

        /* MOBILE MENU */
        .mobile-menu { position: fixed; top: var(--nav-height); left: 0; width: 100%; height: calc(100vh - var(--nav-height)); background: var(--bg-core); z-index: 999; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 30px; transform: translateY(-100%); transition: transform 0.5s var(--ease); border-top: 1px solid var(--border); }
        .mobile-menu.active { transform: translateY(0); }
        .mobile-link { font-family: var(--font-head); font-size: 1.5rem; font-weight: 600; }

        /* SECTION: ABOUT */
        .affil-group { text-align: left; width: 100%; padding-top: 24px; border-top: 1px solid var(--border); }
        .affil-label { font-family: var(--font-mono); font-size: 0.65rem; text-transform: uppercase; color: var(--text-meta); margin-bottom: 12px; display: block; letter-spacing: 0.1em; font-weight: 600;}
        .hero-wrap { display: grid; grid-template-columns: 340px 1fr; gap: 80px; align-items: start; }
        .profile-col { 
            display: flex; flex-direction: column; gap: 32px; 
            border: 1px solid var(--border); padding: 40px; 
            background: #FFFFFF; text-align: center; 
            position: sticky; top: 120px; 
            border-radius: var(--radius-soft);
            box-shadow: 0 4px 20px rgba(0,0,0,0.02);
        }
        
        .profile-img { width: 170px; height: 170px; border-radius: 50%; margin: 0 auto 16px; border: 1px solid var(--border); padding: 4px; background: #fff; }
        
        .profile-name { font-family: var(--font-head); font-size: 1.3rem; font-weight: 700; margin-bottom: 8px; color: var(--text-main); }
        .profile-role { font-family: var(--font-body); font-size: 0.85rem; color: var(--text-body); line-height: 1.5; }
        .profile-email { font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-main); margin-top: 8px; display: inline-block; border-bottom: 1px solid var(--border); padding-bottom: 2px; }
        .social-icons { display: flex; justify-content: center; gap: 20px; font-size: 1.1rem; color: var(--text-meta); margin-top: 16px; }
        .prev-at { text-align: left; border-top: 1px solid var(--border); padding-top: 24px; width: 100%; }
        .logo-list { display: flex; flex-direction: column; gap: 16px; }
        .logo-item { display: flex; align-items: center; gap: 16px; padding: 8px; border: 1px solid transparent; transition: 0.2s; border-radius: 4px; }
        .logo-item:hover { background: #fafafa; border-color: var(--border); }
        
        .org-logo { width: 54px; height: 54px; object-fit: contain; opacity: 0.8; } 
        
        .org-info h4 { font-family: var(--font-head); font-size: 0.85rem; font-weight: 700; line-height: 1; margin-bottom: 4px; }
        .org-info span { font-family: var(--font-mono); font-size: 0.7rem; color: var(--text-meta); }
        
        .news-module { 
            border-left: 2px solid var(--accent); background: #FFFFFF; 
            padding: 24px 30px; margin-top: 60px; 
            border-radius: 0 var(--radius-soft) var(--radius-soft) 0;
            border: 1px solid var(--border); border-left-width: 3px; border-left-color: var(--accent);
        }
        .news-item { font-size: 0.9rem; color: var(--text-body); display: grid; grid-template-columns: 90px 1fr; gap: 20px; align-items: baseline; margin-bottom: 12px; }
        .news-date { font-family: var(--font-mono); color: var(--text-main); font-weight: 600; font-size: 0.75rem; }

        /* SECTION: AIS LAB HEADER */
        .lab-brand { font-size: clamp(3.5rem, 14vw, 8rem); font-weight: 900; letter-spacing: 0.04em; line-height: 0.8; color: #111; text-transform: uppercase; }
        .lab-sub { font-size: 1.1rem; font-weight: 700; letter-spacing: 0.3em; text-transform: uppercase; margin-top: 24px; }
        
        .explore-container {
            margin-top: 24px;
            display: inline-flex;
            align-items: center;
            gap: 16px; 
            text-decoration: none;
            cursor: pointer;
        }
        .explore-text {
            font-family: var(--font-mono);
            font-size: 0.75rem;
            color: #111;
            border-bottom: 1px solid #ddd; 
            padding-bottom: 1px;
            transition: 0.2s;
        }
        .explore-container:hover .explore-text {
            color: var(--accent);
            border-color: var(--accent);
        }
        .explore-container:hover .arrow-circle {
            background: var(--accent);
            color: #fff;
            transform: translateY(0);
        }

        /* SECTION: RESEARCH AREAS */
        .ra-grid { display: grid; grid-template-columns: repeat(4, 1fr); border: 1px solid var(--border); gap: 1px; background: var(--border); margin-bottom: 0; border-radius: var(--radius-soft); overflow: hidden; }
        .ra-card { background: #FFFFFF; padding: 40px 24px; transition: 0.2s; cursor: default; position: relative; text-align: left; display: flex; flex-direction: column; height: 100%; }
        .ra-card:hover { background: #fff; z-index: 1; box-shadow: 0 10px 40px rgba(0,0,0,0.05); }
        .ra-title { font-family: var(--font-head); font-weight: 700; font-size: 1rem; margin-bottom: 12px; color: var(--text-main); }
        .ra-desc { font-size: 0.85rem; color: var(--text-body); line-height: 1.5; }
        .ra-anim-wrapper { width: 100%; aspect-ratio: 4/3; margin: 0 auto 24px; position: relative; border-bottom: 1px solid var(--border); padding-bottom: 20px;}
        .ra-anim-wrapper canvas { width: 100%; height: 100%; display: block; }

        /* SECTION: FEATURED PROJECTS */
        #featured-projects-section { padding-top: var(--pad-section); } 

        .proj-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 40px; 
            margin-top: 0; 
        }
        .proj-card { cursor: pointer; group: 'project'; transition: all 0.2s; }
        .proj-thumb-wrap { 
            overflow: hidden; 
            border-radius: var(--radius-soft); 
            margin-bottom: 20px; border: 1px solid var(--border); 
            aspect-ratio: 16/10; background: #eee; position: relative; 
        }
        .proj-thumb { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s var(--ease); filter: grayscale(100%); }
        .proj-card:hover .proj-thumb { transform: scale(1.03); filter: grayscale(0%); }
        .proj-card:hover .proj-title { color: var(--accent); text-decoration: underline; text-underline-offset: 4px; }
        
        .proj-meta { font-family: var(--font-mono); font-size: 0.7rem; color: var(--accent); margin-bottom: 8px; display: block; letter-spacing: 0.05em; font-weight: 600; }
        .proj-title { font-family: var(--font-head); font-size: 1.35rem; font-weight: 600; margin-bottom: 8px; line-height: 1.2; color: var(--text-main); transition: 0.2s; }
        .proj-desc { font-size: 0.95rem; color: var(--text-body); line-height: 1.5; margin-bottom: 12px; }
        
        .proj-link-text { font-family: var(--font-mono); font-size: 0.75rem; font-weight: 600; color: var(--text-main); border-bottom: 1px solid var(--border); display: inline-block; padding-bottom: 1px; }
        .proj-card:hover .proj-link-text { border-color: var(--accent); color: var(--accent); }

        .projects-header { 
            display: flex; align-items: center; justify-content: space-between; 
            border-bottom: 1px solid var(--border); 
            padding-bottom: 20px; 
            margin-bottom: 40px; 
        }
        .projects-header .t-h2 { margin-bottom: 0; border-bottom: none; padding-bottom: 0; width: auto; }
          .header-link-group { display: flex; align-items: center; gap: 16px; }
        .header-link-text { font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-meta); text-align: right; line-height: 1.4; transition: 0.2s; }
        .header-link-text a { border-bottom: 1px solid #ddd; padding-bottom: 1px; color: var(--text-main); transition: 0.2s; }
        
        .header-link-group:hover .arrow-circle { background: var(--accent); color: #fff; transform: translateY(0); }
        .header-link-group:hover .header-link-text a { color: var(--accent); border-color: var(--accent); }
        
        .arrow-circle { 
    display: inline-flex; 
    align-items: center; 
    justify-content: center; 
    width: 44px; 
    height: 44px; 
    border-radius: 50%; 
    background: #111; 
    color: #fff; 
    font-size: 16px; 
    transition: 0.2s; 
    flex-shrink: 0; /* Prevents the circle from becoming an oval on mobile */
}
        .arrow-circle:hover { background: var(--accent); color: #fff; transform: translateY(0); }

        /* SECTION: TEAM & TEAMS */
        .team-grid { 
            display: grid; grid-template-columns: repeat(4, 1fr); gap: 1px; 
            background: var(--border); border: 1px solid var(--border); 
            border-radius: var(--radius-soft); overflow: hidden;
        }
        .team-card { background: #FFFFFF; padding: 48px 20px; text-align: center; transition: 0.2s; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .team-card:hover { background: #FDFDFD; }
        .team-img { width: 180px; height: 180px; border-radius: 50%; margin-bottom: 20px; object-fit: cover; filter: grayscale(100%); border: 1px solid var(--border); }
        .team-name { font-family: var(--font-head); font-weight: 700; font-size: 0.95rem; margin-bottom: 4px; }
        .team-role { font-family: var(--font-mono); font-size: 0.85rem; color: var(--text-meta); }
        .team-lead { font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-meta); margin-top: 4px; }

        /* SECTION: PUBLICATIONS */
        .pub-header-note { margin-bottom: 20px; color: var(--text-body); font-size: 0.9rem; max-width: 600px; }
        .pub-controls { display: flex; gap: 12px; margin-bottom: 48px; flex-wrap: wrap; }
        .filter-btn { 
            font-family: var(--font-mono); font-size: 0.75rem; padding: 8px 18px; border: 1px solid var(--border); 
            border-radius: 20px; color: var(--text-meta); transition: 0.2s; background: transparent;
        }
        .filter-btn:hover, .filter-btn.active { border-color: var(--text-main); color: var(--text-main); background: #F5F5F5; }
        
        .pub-row { display: grid; grid-template-columns: 320px 1fr; gap: 40px; padding: 32px 0; border-bottom: 1px solid var(--border); transition: 0.2s; }
        .pub-row.hidden { display: none; }
        .pub-row:hover { background: #fafafa; }
        
        .pub-thumb { 
            height: 220px; background: var(--bg-lab-group); border: 1px solid var(--border); 
            overflow: hidden; cursor: pointer; border-radius: 4px; 
        }
        .pub-thumb img { height: 100%; width: 100%; object-fit: cover; filter: grayscale(100%); transition: 0.3s; }
        .pub-thumb:hover img { filter: grayscale(0%); transform: scale(1.05); }
        .pub-venue { font-family: var(--font-mono); font-size: 0.75rem; color: var(--accent); margin-bottom: 8px; display:block; text-transform: uppercase; font-weight: 600; }
        .pub-title { font-family: var(--font-head); font-weight: 600; font-size: 1.2rem; margin-bottom: 8px; color: var(--text-main); line-height: 1.3; cursor: pointer; }
        .pub-title:hover { color: var(--accent); text-decoration: underline; }
        .pub-award { background: #ffd700; color: #000; padding: 2px 6px; font-size: 0.7rem; border-radius: 2px; margin-left: 8px; font-family: var(--font-mono); font-weight: 600;}
        .pub-authors { font-size: 0.9rem; color: var(--text-body); margin-bottom: 8px; }
        .pub-desc { font-size: 0.9rem; color: var(--text-meta); line-height: 1.5; margin-bottom: 16px; }
        .btn-sm { display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; border: 1px solid var(--border); font-family: var(--font-mono); font-size: 0.7rem; font-weight: 500; color: var(--text-body); transition: 0.2s; cursor: pointer; text-decoration: none; border-radius: 2px; margin-right: 8px; }
        .btn-sm:hover { border-color: var(--text-main); background: var(--text-main); color: #fff; }

        /* SECTION: SERVICE & TEACHING */
        .panel-grid { display: grid; width: 100%; border-top: 1px solid var(--border); border-bottom: 1px solid var(--border); }
        .panel-grid.cols-2-1 { grid-template-columns: 2fr 1fr; }
        .panel-grid.cols-1-1 { grid-template-columns: 1fr 1fr; }
        
        .panel-cell { 
            padding: var(--pad-section) var(--pad-x); 
            border-right: 1px solid var(--border); 
            display: flex; flex-direction: column; background: #fff; 
        }
        .panel-cell:last-child { border-right: none; }
        .panel-cell.bg-subtle { background: var(--bg-lab-group); }
        .data-row { display: grid; grid-template-columns: 80px 1fr; padding: 20px 0; border-bottom: 1px solid var(--border); font-size: 0.95rem; }
        .data-year { font-family: var(--font-mono); color: var(--text-meta); font-size: 0.75rem; padding-top: 4px; }
        .data-main strong { display: block; color: var(--text-main); font-weight: 600; margin-bottom: 2px; }
        .data-main span { display: block; font-size: 0.85rem; color: var(--text-body); }
        
        .invite-host { display: block; font-family: var(--font-mono); font-size: 0.7rem; color: var(--text-meta); margin-top: 2px; }

        .video-wrapper { position:relative; width:100%; aspect-ratio:16/9; overflow:hidden; border-radius: var(--radius-soft); border:1px solid var(--border); margin-bottom: 12px; }
        .video-caption { font-family: var(--font-head); font-weight: 600; font-size: 0.9rem; color: var(--text-main); margin-bottom: 24px; display:block; }
        .btn-outline { padding: 12px 24px; border: 1px solid var(--border); background: #fff; font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-main); display: inline-block; transition: 0.2s; cursor: pointer; text-decoration: none; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; border-radius: 20px; }
        .btn-outline:hover { border-color: var(--text-main); background: var(--text-main); color: #fff; }

        /* SECTION: CONTACT & FOOTER */
        .contact-section { 
            background: var(--bg-lab-group); 
            color: var(--text-main); 
            padding: var(--pad-section) var(--pad-x); 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 80px; 
            border-top: 1px solid var(--border); 
        }
        
        .contact-col h3 { font-family: var(--font-mono); font-size: 0.75rem; color: #888; margin-bottom: 30px; text-transform: uppercase; letter-spacing: 0.1em; }
        .contact-link { font-family: var(--font-head); font-size: 2rem; color: #fff; display: block; margin-bottom: 10px; font-weight: 500; }
        .contact-link:hover { color: var(--accent); }
        .contact-details { font-family: var(--font-mono); font-size: 0.9rem; color: #999; line-height: 1.8; }
        
        .footer { padding: 40px 60px; display: flex; justify-content: space-between; border-top: 1px solid #333; background: var(--text-main); color: #666; font-family: var(--font-mono); font-size: 0.85rem; }

        /* DETAIL MODAL */
        .detail-view { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-core); z-index: 2000; overflow-y: auto; display: none; padding: 80px 40px; }
        .detail-view.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .back-btn { margin-bottom: 40px; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; font-family: var(--font-mono); font-size: 0.8rem; color: var(--text-meta); border: 1px solid var(--border); padding: 8px 16px; border-radius: 20px; transition:0.2s;}
        .back-btn:hover { border-color: var(--text-main); color: var(--text-main); }

        /* BIBTEX MODAL */
        .bibtex-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); backdrop-filter: blur(4px); z-index: 3000; display: none; align-items: center; justify-content: center; }
        .bibtex-overlay.active { display: flex; animation: fadeIn 0.2s ease; }
        .bibtex-box { background: #fff; width: 600px; max-width: 90%; padding: 30px; border-radius: 8px; box-shadow: 0 10px 40px rgba(0,0,0,0.15); border: 1px solid var(--border); }
        .bibtex-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid var(--border); padding-bottom: 15px; }
        .bibtex-title { font-family: var(--font-head); font-weight: 600; font-size: 1.1rem; }
        .close-bib { font-size: 1.5rem; cursor: pointer; line-height: 1; color: var(--text-meta); transition: 0.2s; }
        .close-bib:hover { color: var(--text-main); }
        .bibtex-code { width: 100%; height: 200px; background: var(--bg-lab-group); border: 1px solid var(--border); font-family: var(--font-mono); font-size: 0.8rem; padding: 15px; resize: none; margin-bottom: 20px; color: var(--text-body); border-radius: 4px; }
        .bibtex-code:focus { outline: 1px solid var(--accent); border-color: var(--accent); }
        .btn-copy { width: 100%; padding: 12px; background: var(--text-main); color: #fff; border: none; font-family: var(--font-mono); font-size: 0.8rem; font-weight: 600; cursor: pointer; border-radius: 4px; transition: 0.2s; }
        .btn-copy:hover { background: var(--accent); }

        /* RESPONSIVE */
        @media (max-width: 900px) {
            .navbar { padding: 0 20px; }
            .nav-links { display: none; }
            .menu-toggle { display: block; }
            
            .section-pad, .panel-cell, #aislab-hero { padding: 60px 20px !important; }
            
            .hero-wrap, .ra-grid, .proj-grid, .team-grid, .pub-row, .panel-grid.cols-2-1, .panel-grid.cols-1-1, .contact-section { grid-template-columns: 1fr; }
            
            .panel-cell { border-right: none; border-bottom: 1px solid var(--border); }
            .profile-col { position: static; margin-bottom: 40px; }
            .footer { flex-direction: column; gap: 20px; align-items: flex-start; }
            .ra-anim-wrapper { width: 100%; aspect-ratio: 16/9; }
            .projects-header { flex-direction: column; align-items: flex-start; gap: 20px; }
            .header-link-group { width: 100%; justify-content: space-between; }
        }

       /* Unique Styles for Application Areas Section */
        #app-area-unique-section {
            background-color: rgba(0,0,0,0.75) !important;
            color: #FFFFFF;
            padding: 50px 50px;
            width: 82% !important;
            max-width: 1440px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 1px solid #1F1F1F;
            margin: 0 auto 100px auto !important;
            position: relative;
            overflow: hidden;
        }

        /* Top decorative gradient line */
        #app-area-unique-section::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 1px;
            background: linear-gradient(90deg, transparent, #333, transparent);
            opacity: 0.3;
        }

        /* Header Styling */
        .app-unique-header {
            margin-bottom: 40px;
            max-width: 650px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1); 
            padding-bottom: 20px;
        }
        .app-unique-header h2 {
            font-family: 'Manrope', sans-serif;
            font-weight: 600;
            font-size: 2.2rem;
            color: #FFFFFF;
            margin-bottom: 12px;
            letter-spacing: -0.03em;
            line-height: 1.2;
        }
        .app-unique-header p {
            color: #E0E0E0;
            font-size: 1.05rem;
            line-height: 1.6;
            font-weight: 300;
            font-family: 'Inter', sans-serif;
        }

        /* Grid Layout */
        .app-unique-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0; 
            width: 100%;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Individual Cards */
        .app-unique-card {
            background-color: transparent; 
            padding: 40px 24px; 
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            cursor: default;
            position: relative;
            transition: background-color 0.2s ease;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Remove border from the last card */
        .app-unique-card:last-child {
            border-right: none;
        }

        /* Hover effect */
        .app-unique-card:hover {
            background-color: rgba(255, 255, 255, 0.03);
        }

        /* Icon Box */
        .app-unique-icon {
            height: 40px; width: 40px; margin-bottom: 24px;
            display: flex; align-items: center; justify-content: flex-start;
        }
        .app-unique-icon svg {
            stroke: #999; width: 28px; height: 28px;
            transition: stroke 0.2s ease-out; stroke-width: 1.2;
        }
        .app-unique-card:hover .app-unique-icon svg { stroke: #FFF; }

        /* Typography inside cards */
        .app-unique-card h3 {
            font-family: 'Manrope', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: #FFF;
            letter-spacing: -0.01em;
        }
        .app-unique-card p {
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            line-height: 1.6;
            color: #CCCCCC;
            margin: 0;
        }

        /* Many More Footer */
        .app-unique-footer {
            background-color: transparent; 
            border-top: 1px solid rgba(255, 255, 255, 0.1); 
            padding: 32px 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            color: #FFFFFF;
            cursor: default;
            font-family: 'Manrope', sans-serif;
            font-size: 1.1rem;
            font-weight: 500;
            letter-spacing: -0.01em;
            transition: background-color 0.2s ease;
        }
        .app-unique-footer:hover {
            background-color: rgba(255, 255, 255, 0.03);
        }

        /* Static Plus Button */
        .app-unique-plus {
            font-size: 1.5rem;
            line-height: 1;
            font-weight: 300;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            transform: none !important;
            transition: none !important;
        }

        /* Responsive */
        @media (max-width: 900px) {
            #app-area-unique-section { width: 100% !important; padding: 40px 20px !important; }
            .app-unique-grid { grid-template-columns: 1fr; }
            .app-unique-card { border-right: none; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
            .app-unique-card:last-child { border-bottom: none; }
        }
    </style>
</head>
<body>

    <div class="container" id="main-site-container">
        
        <nav class="navbar" id="top-navigation">
            <a href="#" class="nav-brand" id="site-logo">ADWAIT SHARMA, PHD</a>
            <div class="nav-links" id="desktop-menu">
                <a href="#about" class="nav-link active">About</a>
                <a href="#ais-lab" class="nav-link">AIS Lab</a>
                <a href="#teams" class="nav-link">Teams</a>
                <a href="#publications" class="nav-link">Publications</a>
                <a href="#service" class="nav-link">Service & Teaching</a>
                <a href="#press" class="nav-link">Press</a>
                <a href="#join" class="nav-link">Join Us</a>
                <a href="#contact" class="nav-link">Contact</a>
            </div>
            <div class="menu-toggle" id="mobile-menu-trigger" onclick="toggleMenu()">
                <i class="fa-solid fa-bars"></i>
            </div>
        </nav>

        <div class="mobile-menu" id="mobileMenu">
            <a href="#about" onclick="toggleMenu()" class="mobile-link">About</a>
            <a href="#ais-lab" onclick="toggleMenu()" class="mobile-link">AIS Lab</a>
            <a href="#teams" onclick="toggleMenu()" class="mobile-link">Teams</a>
            <a href="#publications" onclick="toggleMenu()" class="mobile-link">Publications</a>
            <a href="#service" onclick="toggleMenu()" class="mobile-link">Service & Teaching</a>    
            <a href="#press" onclick="toggleMenu()" class="mobile-link">Press</a>
            <a href="#join" onclick="toggleMenu()" class="mobile-link">Join Us</a>
            <a href="#contact" onclick="toggleMenu()" class="mobile-link">Contact</a>
            <button id="close-mobile-menu" onclick="toggleMenu()" style="font-size:30px; border:none; margin-top:20px;">×</button>
        </div>

        <section id="about" class="section-pad">
            <div class="hero-wrap" id="about-hero-wrapper">
                
                <div class="profile-col" id="profile-card">
                    <div id="profile-main-info">
                        <img src="https://placehold.co/170x170/f5f5f5/333?text=AS" class="profile-img" alt="Adwait" id="profile-avatar" width="170" height="170">
                        <div class="profile-name" id="profile-name">Adwait Sharma</div>
                        <div class="profile-role" id="profile-title">Asst. Prof., Computer Science<br>University of Bath (UK)</div>
                        <a href="mailto:as5339@bath.ac.uk" class="profile-email" id="profile-email-link">as5339@bath.ac.uk</a>
                        <div class="social-icons" id="profile-socials">
                            <a href="#" title="Google Scholar"><i class="fa-solid fa-graduation-cap"></i></a>
                            <a href="#" title="DBLP"><i class="fa-solid fa-book"></i></a>
                            <a href="#" title="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
                            <a href="#" title="X (Twitter)"><i class="fa-brands fa-x-twitter"></i></a>
                        </div>
                    </div>
                    <div class="affil-group">
                        <span class="affil-label">Current</span>
                        <div class="logo-list">
                            <div class="logo-item">
                                <img src="https://placehold.co/100x100/fff/333?text=Bath" class="org-logo" width="54" height="54" loading="lazy">
                                <div class="org-info"><h4>University of Bath</h4><span>United Kingdom</span></div>
                            </div>
                        </div>
                    </div>

                    <div class="affil-group">
                        <span class="affil-label">Previous</span>
                        <div class="logo-list" id="org-logo-list">
                            <div class="logo-item"><img src="https://placehold.co/100x100/fff/333?text=Meta" class="org-logo" width="54" height="54" loading="lazy"><div class="org-info"><h4>Meta</h4><span>Reality Labs</span></div></div>
                            <div class="logo-item"><img src="https://placehold.co/100x100/fff/333?text=MPI" class="org-logo" width="54" height="54" loading="lazy"><div class="org-info"><h4>MPI</h4><span>Informatics</span></div></div>
                            <div class="logo-item"><img src="https://placehold.co/100x100/fff/333?text=NUS" class="org-logo" width="54" height="54" loading="lazy"><div class="org-info"><h4>NUS</h4><span>Singapore</span></div></div>
                        </div>
                    </div>
                </div>

                <div id="about-content-column">
                    <h2 class="t-h2">About</h2>
                    <h1 class="t-h1" id="about-main-headline" style="margin-bottom:30px;">Engineering the<br><span style="color:var(--text-meta);">Invisible Interface.</span></h1>
                    <p class="t-body" id="about-bio-text">I lead the AIS Lab at the University of Bath. We build interaction techniques for situations where traditional input fails—combining Sparse Sensing, Ubiquitous Robotics, and Real-Time ML.</p>
                    
                    <div class="news-module" id="news-section">
                        <div class="news-item"><span class="news-date">AUG 15</span><span>3 papers accepted to UIST 2025.</span></div>
                        <div class="news-item"><span class="news-date">FEB 19</span><span>TOCHI article accepted.</span></div>
                        <div class="news-item"><span class="news-date">JAN 20</span><span>Joined UIST 2025 Program Committee.</span></div>
                    </div>
                </div>
            </div>
        </section>

        <div id="ais-lab">
            <section id="aislab-hero">
                <div style="max-width: 1100px; margin: 0 auto; position: relative;">
                    <h1 class="lab-brand">AIS<span style="font-weight: 100; opacity: 0.3;">LAB</span></h1>
                    <div class="t-mono" style="margin-top: 16px; margin-bottom: 30px; opacity: 0.6; font-size: 0.8rem; letter-spacing: 0.05em;">(pronounced “ace”)</div>
                    
                    <div class="lab-sub">Advanced Interaction & Sensing</div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 80px; margin-top: 60px; align-items: start; border-top: 1px solid #E5E5E5; padding-top: 60px;">
                        <div style="text-align: left;">
                            <span class="t-mono" style="margin-bottom: 24px; display: block;">.01 PILLARS_SYS //</span>
                            <div style="height: 40px; display: flex; align-items: baseline;">
                                <span id="lab-typewriter" style="font-size: 1.8rem; font-weight: 500; letter-spacing: -0.02em; color: #000;"></span>
                                <span style="font-size: 1.8rem; font-weight: 100; color: #000; animation: blinkCursor 0.8s infinite;">_</span>
                            </div>
                        </div>
                        <div style="text-align: left;">
                            <span class="t-mono" style="margin-bottom: 24px; display: block;">.02 MANIFESTO_CORE //</span>
                            <p class="t-body" style="font-size: 1.2rem; color: #111;">To create <span style="font-weight: 600;">always-available</span> systems that vanish into the fabric of daily life.</p>
                            
                            <a href="#research" class="explore-container">
                                <span class="explore-text">Explore Research</span>
                                <span class="arrow-circle"><i class="fa-solid fa-arrow-down"></i></span>
                            </a>
                        </div>
                    </div>
                </div>
                <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: radial-gradient(#000 0.5px, transparent 0.5px); background-size: 40px 40px; opacity: 0.03; pointer-events: none;"></div>
            </section>
        
            <section id="research" class="section-pad" style="border-top: 1px solid var(--border);">
                <div id="research-areas-container" data-aos="fade-up">
                    <h2 class="t-h2" id="research-title">Research Areas</h2>
                    <div class="ra-grid" id="research-grid">
                        <div class="ra-card" id="ra-card-sensing">
                            <div class="ra-anim-wrapper"><canvas id="anim-sensing"></canvas></div>
                            <h3 class="ra-title">Sparse Sensing</h3>
                            <p class="ra-desc">Solving complex recognition problems with minimal sensors.</p>
                        </div>
                        <div class="ra-card" id="ra-card-robotics">
                            <div class="ra-anim-wrapper"><canvas id="anim-robotics"></canvas></div>
                            <h3 class="ra-title">Ubiquitous Robotics</h3>
                            <p class="ra-desc">Reappropriating idle domestic hardware into computing hubs.</p>
                        </div>
                        <div class="ra-card" id="ra-card-edgeai">
                            <div class="ra-anim-wrapper"><canvas id="anim-edgeai"></canvas></div>
                            <h3 class="ra-title">Edge AI</h3>
                            <p class="ra-desc">On-device recognition pipeline with near-zero latency.</p>
                        </div>
                        <div class="ra-card" id="ra-card-gestures">
                            <div class="ra-anim-wrapper"><canvas id="anim-gestures"></canvas></div>
                            <h3 class="ra-title">Micro-Gestures</h3>
                            <p class="ra-desc">Creating always-available input methods for control.</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="app-area-unique-section">
                <div class="app-unique-header">
                    <h2>Always-Available Computing</h2>
                    <p>Ubiquitous intelligence integrated into the fabric of daily life, providing proactive assistance without the need for manual invocation.</p>
                </div>

                <div class="app-unique-grid">
                    <div class="app-unique-card">
                        <div class="app-unique-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                            </svg>
                        </div>
                        <h3>Healthcare</h3>
                        <p>Continuous monitoring and predictive complication alerts through non-intrusive, always-on sensing.</p>
                    </div>

                    <div class="app-unique-card">
                        <div class="app-unique-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9 22 9 12 15 12 15 22"></polyline>
                            </svg>
                        </div>
                        <h3>Smart Homes</h3>
                        <p>Hardware-agnostic interactions that adapt to inhabitant intent through ambient spatial intelligence.</p>
                    </div>

                    <div class="app-unique-card">
                        <div class="app-unique-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.29-3.41a1 1 0 0 0-.83-.42H6a1 1 0 0 0-1 1v4h11"></path>
                                <circle cx="7" cy="16" r="2"></circle>
                                <circle cx="17" cy="16" r="2"></circle>
                            </svg>
                        </div>
                        <h3>Mobility</h3>
                        <p>Context-aware safety for micro-mobility and real-time navigation agents predicting urban flow.</p>
                    </div>

                    <div class="app-unique-card">
                        <div class="app-unique-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path>
                            </svg>
                        </div>
                        <h3>Industrial</h3>
                        <p>Augmenting manual labor with specialized tool-use sensing and AI assistance in high-stakes environments.</p>
                    </div>
                </div>

                <div class="app-unique-footer">
                    <span>Many more</span>
                    <span class="app-unique-plus">+</span>
                </div>
            </section>

            <section id="featured-projects-section" class="section-pad" style="border-top: 1px solid var(--border);">
                <div data-aos="fade-up">
                    <div class="projects-header">
                        <h2 class="t-h2" id="projects-main-title">Featured Projects</h2>
                        <div class="header-link-group">
                            <span class="header-link-text">
                                <a href="#publications">See full list of<br>publications</a>
                            </span>
                            <a href="#publications" class="arrow-circle"><i class="fa-solid fa-arrow-down"></i></a>
                        </div>
                    </div>
                    <div class="proj-grid" id="projects-grid">
                        <div class="proj-card" id="proj-card-robotics" onclick="openProject('p1')">
                            <div class="proj-thumb-wrap"><img src="https://placehold.co/600x400/fff/333?text=ROBOTICS" class="proj-thumb"></div>
                            <span class="proj-meta">ROBOTICS // CHI '25</span>
                            <h3 class="proj-title">Beyond Vacuuming</h3>
                            <p class="proj-desc">Transforming idle domestic robots into general-purpose sensing platforms.</p>
                            <span class="proj-link-text">Learn More</span>
                        </div>
                        <div class="proj-card" id="proj-card-sensing" onclick="openProject('p3')">
                            <div class="proj-thumb-wrap"><img src="https://placehold.co/600x400/fff/333?text=SENSING" class="proj-thumb"></div>
                            <span class="proj-meta">SENSING // UIST '23</span>
                            <h3 class="proj-title">SparseIMU</h3>
                            <p class="proj-desc">Computational design tool for optimizing minimal sensor layouts.</p>
                            <span class="proj-link-text">Learn More</span>
                        </div>
                        <div class="proj-card" id="proj-card-haptics" onclick="openProject('p2')">
                            <div class="proj-thumb-wrap"><img src="https://placehold.co/600x400/fff/333?text=HAPTICS" class="proj-thumb"></div>
                            <span class="proj-meta">HAPTICS // UIST '25</span>
                            <h3 class="proj-title">HydroHaptics</h3>
                            <p class="proj-desc">High-fidelity texture rendering on soft fluidic interfaces.</p>
                            <span class="proj-link-text">Learn More</span>
                        </div>
                        <div class="proj-card" id="proj-card-gestures" onclick="openProject('p4')">
                            <div class="proj-thumb-wrap"><img src="https://placehold.co/600x400/fff/333?text=GESTURES" class="proj-thumb"></div>
                            <span class="proj-meta">INTERACTION // DIS '24</span>
                            <h3 class="proj-title">GraspUI</h3>
                            <p class="proj-desc">Object-centric microgestures for seamless daily interaction.</p>
                            <span class="proj-link-text">Learn More</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="teams" class="section-pad" style="border-top: 1px solid var(--border);">
                <h2 class="t-h2" id="teams-title">AIS Lab Team</h2>
                <div class="team-grid" id="teams-members-grid">
                    <div class="team-card" id="team-member-placeholder1"><img src="https://placehold.co/100/eee/333?text=P1" class="team-img"><div class="team-name">Placeholder Team Member</div><div class="team-role">Role</div></div>
                    <div class="team-card" id="team-member-placeholder2"><img src="https://placehold.co/100/eee/333?text=P2" class="team-img"><div class="team-name">Placeholder Team Member</div><div class="team-role">Role</div></div>
                    <div class="team-card" id="team-member-placeholder3"><img src="https://placehold.co/100/eee/333?text=P3" class="team-img"><div class="team-name">Placeholder Team Member</div><div class="team-role">Role</div><div class="team-lead">Lead: Prof. [Name]</div></div>
                    <div class="team-card" id="team-member-placeholder4"><img src="https://placehold.co/100/eee/333?text=P4" class="team-img"><div class="team-name">Placeholder Team Member</div><div class="team-role">Role</div><div class="team-lead">Lead: Prof. [Name]</div></div>
                </div>
            </section>
        </div>

        <section id="publications" class="section-pad" data-aos="fade-up">
            <h2 class="t-h2">Peer-Reviewed Publications</h2>
            
            <p class="pub-header-note">Selection of papers published at top-tier HCI venues (CHI, UIST) and journals.</p>

            <div class="pub-controls">
                <button class="filter-btn active" onclick="filterPubs('all', this)">All</button>
                <button class="filter-btn" onclick="filterPubs('conf', this)">Conference</button>
                <button class="filter-btn" onclick="filterPubs('journal', this)">Journal</button>
                <button class="filter-btn" onclick="filterPubs('CHI 2025', this)">CHI 2025</button>
                <button class="filter-btn" onclick="filterPubs('UIST 2025', this)">UIST 2025</button>
            </div>

            <div class="pub-list" id="publications-list-container">
                <div class="pub-row" id="pub-row-chi25" data-category="conf" data-venue="CHI 2025">
                    <div class="pub-thumb" onclick="openProject('p1')"><img src="https://placehold.co/200x120/eee/333?text=Paper"></div>
                    <div>
                        <span class="pub-venue">CHI 2025</span>
                        <h3 class="pub-title" onclick="openProject('p1')">Beyond Vacuuming: Exploiting Domestic Robots' Idle Time</h3>
                        <p class="pub-authors">Y. Shiokawa, <strong>A. Sharma</strong>, et al.</p>
                        <p class="pub-desc">Reappropriating idle domestic robots for ubiquitous computing tasks.</p>
                        <div class="pub-actions" id="pub-actions-1">
                            <a href="#" class="btn-sm" target="_blank"><i class="fa-regular fa-file-pdf"></i> PDF</a>
                            <a href="publication-template.html" class="btn-sm"><i class="fa-solid fa-globe"></i> PROJECT</a>
                        </div>
                    </div>
                </div>
                <div class="pub-row" id="pub-row-uist25" data-category="conf" data-venue="UIST 2025">
                    <div class="pub-thumb" onclick="openProject('p2')"><img src="https://placehold.co/200x120/eee/333?text=Paper"></div>
                    <div>
                        <span class="pub-venue">UIST 2025</span>
                        <h3 class="pub-title" onclick="openProject('p2')">HydroHaptics: High-Fidelity Feedback <span class="pub-award">Best Paper Honorable Mention</span></h3>
                        <p class="pub-authors">J. Nash, <strong>A. Sharma</strong>, et al.</p>
                        <p class="pub-desc">A novel method for rendering high-fidelity texture and force feedback.</p>
                        <div class="pub-actions" id="pub-actions-2">
                            <a href="#" class="btn-sm" target="_blank"><i class="fa-regular fa-file-pdf"></i> PDF</a>
                            <a href="publication-template.html" class="btn-sm"><i class="fa-solid fa-globe"></i> PROJECT</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="service" class="panel-grid cols-2-1" data-aos="fade-up">
            <div class="panel-cell" id="service-cell">
                <h2 class="t-h2" id="service-title">Service & Talks</h2>
                <h3 class="t-h3" style="margin-bottom: 16px;">Service</h3>
                <div class="data-row"><span class="data-year">2025</span><div class="data-main"><strong>ACM UIST</strong><span>Associate Chair</span></div></div>
                <div class="data-row"><span class="data-year">2025</span><div class="data-main"><strong>ACM CHI</strong><span>AC - User Experience & Usability</span></div></div>
                <h3 class="t-h3" style="margin: 32px 0 16px;">Invited Talks</h3>
                <div class="data-row">
                    <span class="data-year">2025</span>
                    <div class="data-main">
                        <strong>Microsoft Research</strong>
                        <span>Invited Talk</span>
                        <span class="invite-host">Invited by: [Name Placeholder]</span>
                    </div>
                </div>
                <div class="data-row">
                    <span class="data-year">2024</span>
                    <div class="data-main">
                        <strong>Ultraleap</strong>
                        <span>Invited Talk</span>
                        <span class="invite-host">Invited by: [Name Placeholder]</span>
                    </div>
                </div>
            </div>
            <div class="panel-cell" id="teaching-cell">
                <h2 class="t-h2" id="teaching-title">Teaching</h2>
                <div class="data-row"><span class="data-year">2022—24</span><div class="data-main"><strong>Applied Data Science</strong><span>Masters • Full Year</span></div></div>
                <div class="data-row"><span class="data-year">2023—24</span><div class="data-main"><strong>Theory of HCI</strong><span>Masters • Sem 2</span></div></div>
            </div>
        </section>

        <section id="press" class="section-pad" data-aos="fade-up">
            <h2 class="t-h2">Press</h2>
            <div class="data-row"><span class="data-year">2025</span><div class="data-main"><strong>TechCrunch</strong><span>Article on AIS Lab Innovations</span></div></div>
            <div class="data-row"><span class="data-year">2024</span><div class="data-main"><strong>BBC News</strong><span>Feature on Sparse Sensing</span></div></div>
        </section>

        <section id="join" class="panel-grid cols-1-1" data-aos="fade-up">
            <div class="panel-cell" id="join-us-cell">
                <h2 class="t-h2" id="join-title">Join the Lab</h2>
                <div class="video-wrapper" id="recruitment-video-box">
                    <iframe src="https://player.vimeo.com/video/76979871?background=1&autoplay=0&loop=1&byline=0&title=0" frameborder="0" allow="autoplay; fullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe>
                </div>
                <span class="video-caption" id="video-label">Life in Bath</span>
                <p class="t-body" id="join-text" style="margin-bottom: 24px;">We are looking for rigorous, ambitious researchers (PhD/Postdoc) interested in HCI, Sensing, and Robotics. Build the future with us.</p>
                <a href="mailto:as5339@bath.ac.uk?subject=PhD Application" class="btn-outline" id="join-cta-btn">OPEN POSITIONS</a>
            </div>
            <div class="panel-cell" id="partners">
                <h2 class="t-h2" id="partnership-title">Partnerships</h2>
                <p class="t-body" id="partnership-text" style="margin-bottom: 24px;">We offer expert consultancy, R&D collaboration, and technology licensing in smart sensing and robotics. Let's translate research into reality.</p>
                <a href="mailto:as5339@bath.ac.uk?subject=Partnership Inquiry" class="btn-outline" id="partner-cta-btn">INQUIRE</a>
            </div>
        </section>

        <section id="contact" class="contact-section">
            <div class="contact-col" id="contact-info">
                <h2 class="t-h2" style="border-bottom: 1px solid var(--border); padding-bottom: 20px; margin-bottom: 40px; color: var(--text-main);">Contact Us</h2>
                <div style="font-family: var(--font-body); font-size: 1rem; color: var(--text-body); line-height: 1.8;">
                    <p style="margin-bottom: 24px;">
                        <strong>Dr. Adwait Sharma</strong><br>
                        Wessex House, 9.11<br>
                        Department of Computer Science, University of Bath<br>
                        Claverton Down, Bath, BA2 7AY, UK
                    </p>
                    <p style="margin-bottom: 8px;">Telephone: <a href="tel:+441225387592" style="color:var(--text-main); border-bottom:1px solid #ccc;">+44 1225 387592</a></p>
                    <p>Email: <a href="mailto:as5339@bath.ac.uk" style="color:var(--text-main); border-bottom:1px solid #ccc;">as5339@bath.ac.uk</a></p>
                </div>
            </div>
            <div class="contact-col" id="contact-map" style="height: 100%; min-height: 400px; position: relative; border-radius: 8px; overflow: hidden; border: 1px solid var(--border);">
                <iframe width="100%" height="100%" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?q=51.37948026228095,-2.3271474823895377&t=k&z=17&ie=UTF8&iwloc=&output=embed"></iframe>
            </div>
        </section>

        <footer class="footer" id="site-footer">
            <div style="display:flex; flex-direction:column; gap:8px;">
                <span id="footer-copyright" style="color:#e0e0e0;">© 2025 ADWAIT SHARMA</span>
                <span id="footer-update" style="color:#999;">Last updated: December 2025</span>
            </div>
            <div style="text-align:right; max-width: 50%; line-height: 1.6; color: #ccc;">
                Bath – Toronto – Copenhagen – Saarbrücken – Hagenberg – Vancouver – Singapore – Bangalore – Mathura
            </div>
        </footer>

        <div id="project-detail" class="detail-view">
            <div class="back-btn" id="modal-close-btn" onclick="closeProject()"><i class="fa-solid fa-arrow-left"></i> BACK</div>
            <h1 class="t-h2" id="d-title" style="margin-bottom:20px;">Title</h1>
            <iframe id="d-video" width="100%" height="500" src="" frameborder="0" allowfullscreen style="margin-bottom:40px; background:#eee;"></iframe>
            <p class="t-body" id="d-abstract">Text...</p>
        </div>

        <div id="bibtex-modal" class="bibtex-overlay">
            <div class="bibtex-box">
                <div class="bibtex-header">
                    <span class="bibtex-title">BibTeX Citation</span>
                    <span class="close-bib" onclick="closeBibtex()">×</span>
                </div>
                <textarea id="bibtex-text" class="bibtex-code" readonly></textarea>
                <button class="btn-copy" onclick="copyBibtex()">Copy to Clipboard</button>
            </div>
        </div>

    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Init Animations
        AOS.init({ duration: 800, offset: 50, once: true });

        // --- FIXED SCROLL SPY LOGIC ---
        window.addEventListener('scroll', () => {
            let scrollY = window.pageYOffset;
            let current = '';

            if(scrollY < 200) {
                current = 'about';
            } else {
                const sections = document.querySelectorAll('section, #ais-lab');
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (scrollY >= sectionTop - 180) {
                        current = section.getAttribute('id');
                    }
                });
            }

            const aisLabSubSections = ['research', 'scandi-feature-v1', 'featured-projects-section', 'aislab-hero'];
            
            document.querySelectorAll('.nav-link').forEach(li => {
                li.classList.remove('active');
                const href = li.getAttribute('href').substring(1); 
                
                if (href === current) {
                    li.classList.add('active');
                } 
                else if (href === 'ais-lab' && (current === 'ais-lab' || aisLabSubSections.includes(current))) {
                    li.classList.add('active');
                }
                else if (href === 'teams' && current === 'teams') {
                    li.classList.add('active');
                }
            });
        });
        
        // Typewriter Effect
        (function() {
            const el = document.getElementById('lab-typewriter');
            if (!el) return;
            const items = ['Design.', 'Sensing.', 'Human-Centered AI.'];
            let i = 0, j = 0, isDel = false;
            function loop() {
                const current = items[i];
                el.innerHTML = isDel ? current.substring(0, j - 1) : current.substring(0, j + 1);
                j = isDel ? j - 1 : j + 1;
                if (!isDel && j === current.length) { isDel = true; setTimeout(loop, 3000); }
                else if (isDel && j === 0) { isDel = false; i = (i + 1) % items.length; setTimeout(loop, 600); }
                else { setTimeout(loop, isDel ? 40 : 80); }
            }
            document.addEventListener('DOMContentLoaded', loop);
        })();

        // Mobile Menu Toggle
        const mobileMenu = document.getElementById('mobileMenu');
        function toggleMenu() { mobileMenu.classList.toggle('active'); }

        // Publication Filter Logic
        function filterPubs(cat, btn) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.querySelectorAll('.pub-row').forEach(row => {
                const rowCat = row.getAttribute('data-category');
                const rowVenue = row.getAttribute('data-venue');
                if (cat === 'all' || rowCat === cat || rowVenue === cat) row.classList.remove('hidden');
                else row.classList.add('hidden');
            });
        }

        /* DATA SOURCE */
        const publicationsData = [
            {
                id: 'p1', showInList: true, title: "Beyond Vacuuming: Exploiting Domestic Robots' Idle Time", authors: "Y. Shiokawa, <strong>A. Sharma</strong>, et al.", venue: "CHI 2025", type: "conf", venueFilter: "CHI 2025", desc: "Reappropriating idle domestic robots for ubiquitous computing tasks.", thumb: "https://placehold.co/320x220/eee/333?text=Paper", pdf: "#", projectUrl: "publication-template.html", slides: "#", videoUrl: "#", modalVideo: "https://www.youtube.com/embed/dQw4w9WgXcQ?mute=1", award: "", bibtex: `@inproceedings{shiokawa2025beyond,\n title={Beyond Vacuuming: Exploiting Domestic Robots' Idle Time},\n author={Shiokawa, Y. and Sharma, A. and Others},\n booktitle={Proceedings of the 2025 CHI Conference on Human Factors in Computing Systems},\n year={2025}\n}`
            },
            {
                id: 'p2', showInList: true, title: "HydroHaptics: High-Fidelity Feedback", authors: "J. Nash, <strong>A. Sharma</strong>, et al.", venue: "UIST 2025", type: "conf", venueFilter: "UIST 2025", desc: "A novel method for rendering high-fidelity texture and force feedback.", thumb: "https://placehold.co/320x220/eee/333?text=Paper", pdf: "#", projectUrl: "publication-template.html", slides: "#", videoUrl: "#", modalVideo: "https://www.youtube.com/embed/dQw4w9WgXcQ?mute=1", award: '<span class="pub-award">Best Paper Honorable Mention</span>', bibtex: `@inproceedings{nash2025hydro,\n title={HydroHaptics: High-Fidelity Feedback},\n author={Nash, J. and Sharma, A. and Others},\n booktitle={Proceedings of the 38th Annual ACM Symposium on User Interface Software and Technology},\n year={2025}\n}`
            },
            { id: 'p3', showInList: false, title: "SparseIMU", modalVideo: "https://www.youtube.com/embed/dQw4w9WgXcQ?mute=1" },
            { id: 'p4', showInList: false, title: "GraspUI", modalVideo: "https://www.youtube.com/embed/dQw4w9WgXcQ?mute=1" }
        ];

        // RENDER PUBLICATIONS
        function renderPublications() {
            const container = document.getElementById('publications-list-container');
            const listItems = publicationsData.filter(p => p.showInList);
            
            container.innerHTML = listItems.map(pub => `
                <div class="pub-row" data-category="${pub.type}" data-venue="${pub.venueFilter}">
                    <div class="pub-thumb" onclick="openProject('${pub.id}')">
                        <img src="${pub.thumb}" width="320" height="220" loading="lazy">
                    </div>
                    <div>
                        <span class="pub-venue">${pub.venue}</span>
                        <h3 class="pub-title" onclick="openProject('${pub.id}')">
                            ${pub.title} ${pub.award || ''}
                        </h3>
                        <p class="pub-authors">${pub.authors}</p>
                        <p class="pub-desc">${pub.desc}</p>
                        <div class="pub-actions">
                            <a href="${pub.pdf}" class="btn-sm" target="_blank"><i class="fa-regular fa-file-pdf"></i> PDF</a>
                            <a href="${pub.projectUrl}" class="btn-sm"><i class="fa-solid fa-globe"></i> PROJECT</a>
                            <a href="${pub.slides}" class="btn-sm"><i class="fa-regular fa-images"></i> SLIDES</a>
                            <a href="${pub.videoUrl}" class="btn-sm"><i class="fa-brands fa-youtube"></i> VIDEO</a>
                            <button class="btn-sm" onclick="showBibtex('${pub.id}')"><i class="fa-solid fa-quote-right"></i> BIBTEX</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Initialize Rendering
        document.addEventListener('DOMContentLoaded', renderPublications);

        // Modal Logic (Project)
        function openProject(id) {
            const data = publicationsData.find(p => p.id === id);
            if(!data) return;
            document.getElementById('d-title').innerText = data.title;
            document.getElementById('d-video').src = data.modalVideo;
            document.getElementById('project-detail').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeProject() {
            document.getElementById('d-video').src = "";
            document.getElementById('project-detail').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // NEW BIBTEX FUNCTIONS
        function showBibtex(id) {
            const data = publicationsData.find(p => p.id === id);
            if (!data || !data.bibtex) return;
            const modal = document.getElementById('bibtex-modal');
            document.getElementById('bibtex-text').value = data.bibtex;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeBibtex() {
            document.getElementById('bibtex-modal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function copyBibtex() {
            const copyText = document.getElementById("bibtex-text");
            copyText.select();
            copyText.setSelectionRange(0, 99999); 
            navigator.clipboard.writeText(copyText.value).then(() => {
                const btn = document.querySelector('.btn-copy');
                const original = btn.innerText;
                btn.innerText = "Copied!";
                setTimeout(() => btn.innerText = original, 2000);
            });
        }

        /* --- RESEARCH ICON ANIMATIONS LOGIC --- */
        const animCommon = {
            colorMain: '#111111', colorAccent: '#2563EB',
            setupCanvas: function(id, drawFn) {
                const cvs = document.getElementById(id);
                if(!cvs) return;
                const ctx = cvs.getContext('2d');
                let w = cvs.parentElement.offsetWidth;
                let h = cvs.parentElement.offsetHeight;
                const dpr = window.devicePixelRatio || 1;
                cvs.width = w * dpr; cvs.height = h * dpr;
                ctx.scale(dpr, dpr);
                function loop() {
                    ctx.clearRect(0, 0, w, h);
                    drawFn(ctx, w, h);
                    requestAnimationFrame(loop);
                }
                loop();
            },
            easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2
        };

        // 1. SPARSE SENSING ANIM
        (function() {
            const dots = [];
            for(let x=0; x<6; x++) for(let y=0; y<6; y++) {
                dots.push({ x, y, isSurvivor: (x===0&&y===0) || (x===5&&y===0) || (x===2&&y===3) || (x===0&&y===5) || (x===5&&y===5) });
            }
            const drawChip = (ctx, x, y, size, color, alpha) => {
                ctx.save(); ctx.globalAlpha = alpha; ctx.translate(Math.round(x), Math.round(y));
                ctx.strokeStyle = color; ctx.lineWidth = 1.2; ctx.lineCap = 'round';
                ctx.strokeRect(-size/2, -size/2, size, size);
                const pinLen = size * 0.25; const spacing = size * 0.25;
                ctx.beginPath();
                for (let i = -1; i <= 1; i++) {
                    const o = i * spacing;
                    ctx.moveTo(-size/2, o); ctx.lineTo(-size/2 - pinLen, o);
                    ctx.moveTo(size/2, o); ctx.lineTo(size/2 + pinLen, o);
                    ctx.moveTo(o, -size/2); ctx.lineTo(o, -size/2 - pinLen);
                    ctx.moveTo(o, size/2); ctx.lineTo(o, size/2 + pinLen);
                }
                ctx.stroke(); ctx.restore();
            };
            animCommon.setupCanvas('anim-sensing', (ctx, w, h) => {
                const space = w / 9.5;
                const padX = (w - (5 * space)) / 2;
                const padY = (h - (5 * space)) / 2; 
                const cycleT = (Date.now() / 9000) % 1; 
                dots.forEach(d => {
                    let alpha = 1.0, color = animCommon.colorMain, size = 8.4;
                    if (d.isSurvivor) {
                        if (cycleT > 0.2 && cycleT <= 0.85) {
                            const p = Math.min(1, (cycleT - 0.2) / 0.3); const e = animCommon.easeInOutCubic(p);
                            color = `rgb(${17 + (37-17)*e}, ${17 + (99-17)*e}, ${17 + (235-17)*e})`;
                            size = 8.4 + e * 4.2;
                        } else if (cycleT > 0.85) {
                            const p = (cycleT - 0.85) / 0.15; const e = animCommon.easeInOutCubic(1 - p);
                            color = `rgb(${17 + (37-17)*e}, ${17 + (99-17)*e}, ${17 + (235-17)*e})`;
                            size = 8.4 + e * 4.2;
                        }
                    } else {
                        if (cycleT > 0.45 && cycleT <= 0.85) alpha = 1 - animCommon.easeInOutCubic(Math.min(1, (cycleT-0.45)/0.3));
                        else if (cycleT > 0.85) alpha = animCommon.easeInOutCubic((cycleT-0.85)/0.15);
                    }
                    drawChip(ctx, padX + d.x * space, padY + d.y * space, size, color, alpha);
                });
            });
        })();

        // 2. ROBOTICS ANIM
        (function() {
            animCommon.setupCanvas('anim-robotics', (ctx, w, h) => {
                const timeMs = Date.now(), cycleLength = 20000;
                const cycle = (timeMs % cycleLength) / cycleLength;
                const state = Math.floor(cycle * 3), stateProg = (cycle * 3) % 1;
                const time = timeMs / 1000, cx = w/2;
                const drawRobot = (lHand, rHand, aW, state) => {
                    ctx.save();
                    const neck = { x: cx + Math.sin(time*0.5)*3, y: h*0.4 + Math.cos(time*0.3)*1.5 };
                    const shouldersW = 44, shoulderY = neck.y + 14;
                    ctx.fillStyle = "#fff"; ctx.strokeStyle = animCommon.colorMain; ctx.lineWidth = 2.0;
                    ctx.beginPath(); if(ctx.roundRect) ctx.roundRect(neck.x-shouldersW, shoulderY-10, shouldersW*2, 34, 10); else ctx.rect(neck.x-shouldersW, shoulderY-10, shouldersW*2, 34); 
                    ctx.fill(); ctx.stroke();
                    ctx.lineWidth = 6; ctx.beginPath(); ctx.moveTo(neck.x, shoulderY); ctx.lineTo(cx, h*0.82); ctx.stroke();
                    ctx.fillStyle = "#fff"; ctx.lineWidth = 2.0;
                    ctx.beginPath(); ctx.ellipse(neck.x, neck.y-20, 17, 18, 0, 0, Math.PI*2); ctx.fill(); ctx.stroke();
                    const drawArm = (sX, sY, target, isRight) => {
                        const L1 = 38, L2 = 38;
                        const dx = target.x - sX, dy = target.y - sY;
                        const dist = Math.sqrt(dx*dx + dy*dy), reach = Math.min(dist, (L1+L2)*0.98);
                        const angle = Math.atan2(dy, dx), cosA = (L1*L1 + reach*reach - L2*L2) / (2*L1*reach);
                        const a1 = angle + (isRight ? -1 : 1) * Math.acos(Math.max(-1, Math.min(1, cosA)));
                        const elbow = { x: sX + Math.cos(a1)*L1, y: sY + Math.sin(a1)*L1 };
                        ctx.save(); ctx.strokeStyle = animCommon.colorMain; ctx.lineCap = 'round'; ctx.lineWidth = 9; ctx.globalAlpha = 0.8;
                        ctx.beginPath(); ctx.moveTo(sX, sY); ctx.lineTo(elbow.x, elbow.y); ctx.lineTo(target.x, target.y); ctx.stroke();
                        ctx.globalAlpha = 1.0; ctx.lineWidth = 2.0; ctx.fillStyle = "#fff";
                        [{x:sX, y:sY}, elbow].forEach(p => { ctx.beginPath(); ctx.arc(p.x, p.y, 4, 0, Math.PI*2); ctx.fill(); ctx.stroke(); });
                        ctx.beginPath(); ctx.arc(target.x, target.y, 5, 0, Math.PI*2); ctx.fill(); ctx.stroke(); ctx.restore();
                    };
                    drawArm(neck.x-shouldersW+6, shoulderY, lHand, false); drawArm(neck.x+shouldersW-6, shoulderY, rHand, true);
                    if (state === 0) {
                        ctx.save(); ctx.globalAlpha = aW * 0.5; ctx.setLineDash([8, 8]); ctx.strokeStyle = animCommon.colorAccent; ctx.lineWidth = 2.5;
                        ctx.beginPath(); ctx.moveTo(lHand.x + 8, lHand.y); ctx.lineTo(rHand.x - 8, rHand.y); ctx.stroke(); ctx.restore();
                    }
                    if (state === 1 && aW > 0.1) {
                        ctx.save(); const pulseR = 12 + Math.sin(time*8)*4; 
                        ctx.beginPath(); ctx.arc(rHand.x, rHand.y, pulseR, 0, Math.PI*2); ctx.strokeStyle = animCommon.colorAccent; ctx.lineWidth = 2.5; ctx.globalAlpha = aW * 0.9; ctx.stroke(); ctx.restore();
                    }
                    ctx.restore();
                };
                const getCoords = (s, t) => {
                    if (s === 0) return { l: { x: cx-40-Math.sin(t*1.2)*20, y: h*0.78 }, r: { x: cx+40+Math.sin(t*1.2)*20, y: h*0.78 } };
                    if (s === 1) return { l: { x: cx-55, y: h*0.82 }, r: { x: cx+62, y: h*0.48 } }; 
                    return { l: { x: cx-55, y: h*0.82 }, r: { x: cx+40, y: h-45 } };
                };
                const transitionWindow = 0.7; const curC = getCoords(state, time), nextC = getCoords((state+1)%3, time);
                let lH = { ...curC.l }, rH = { ...curC.r };
                if (stateProg > (1 - transitionWindow)) {
                    const e = animCommon.easeInOutCubic((stateProg-(1-transitionWindow))/transitionWindow);
                    lH.x += (nextC.l.x-curC.l.x)*e; lH.y += (nextC.l.y-curC.l.y)*e; rH.x += (nextC.r.x-curC.r.x)*e; rH.y += (nextC.r.y-curC.r.y)*e;
                }
                drawRobot(lH, rH, (stateProg < 0.15 ? stateProg/0.15 : (stateProg > 0.9 ? (1-stateProg)/0.1 : 1)), state);
            });
        })();

        // 3. EDGE AI ANIM
        (function() {
            animCommon.setupCanvas('anim-edgeai', (ctx, w, h) => {
                const time = Date.now(), loopDuration = 6500, prog = (time % loopDuration) / loopDuration;
                const layers = [3, 4, 2], lGap = 42, vGap = 20, nodeR = 5, cx = w*0.48, cy = h/2, nnFirstX = cx - lGap;
                const drawChannel = (startY, endY, type) => {
                    const travelProg = Math.min(1, prog / 0.42);
                    ctx.save(); ctx.strokeStyle = "rgba(0,0,0,0.03)"; ctx.lineWidth = 1.8; ctx.beginPath();
                    for(let i=0; i<=40; i++) { 
                        let t = i/40, px = t * nnFirstX, py = startY + (endY - startY) * t;
                        if(type !== 'm') py += Math.sin(t * Math.PI) * 12 * (type === 't' ? -1 : 1);
                        if(i===0) ctx.moveTo(px, py); else ctx.lineTo(px, py);
                    }
                    ctx.stroke();
                    if (prog < 0.57) {
                        const absorption = Math.max(0, (prog - 0.42) / 0.15);
                        ctx.strokeStyle = "#111111"; ctx.lineWidth = 3.2; ctx.lineCap = 'round'; ctx.beginPath();
                        for(let i=0; i<=20; i++) {
                            const t = absorption + (travelProg - absorption) * (i/20);
                            let px = t * nnFirstX, py = startY + (endY - startY) * t;
                            if(type !== 'm') py += Math.sin(t * Math.PI) * 12 * (type === 't' ? -1 : 1);
                            if(i===0) ctx.moveTo(px, py); else ctx.lineTo(px, py);
                        }
                        ctx.globalAlpha = 1 - absorption; ctx.stroke();
                    }
                    ctx.restore();
                };
                drawChannel(h*0.22, cy-vGap, 't'); drawChannel(h*0.5, cy, 'm'); drawChannel(h*0.78, cy+vGap, 'b');
                ctx.save(); ctx.translate(cx, cy); ctx.strokeStyle = animCommon.colorMain; ctx.lineWidth = 1.0;
                for(let l=0; l<layers.length-1; l++) {
                    let x1 = (l - 1) * lGap, x2 = l * lGap;
                    for(let i=0; i<layers[l]; i++) {
                        let y1 = (i - (layers[l]-1)/2) * vGap;
                        for(let j=0; j<layers[l+1]; j++) {
                            let y2 = (j - (layers[l+1]-1)/2) * vGap;
                            ctx.globalAlpha = (prog > 0.44 + l*0.1 && prog < 0.54 + l*0.1) ? 0.6 : 0.08;
                            ctx.beginPath(); ctx.moveTo(x1, y1); ctx.lineTo(x2, y2); ctx.stroke();
                        }
                    }
                }
                for(let l=0; l<layers.length; l++) {
                    let lx = (l - 1) * lGap, active = prog > 0.44 + l*0.1 && prog < 0.54 + l*0.1;
                    for(let i=0; i<layers[l]; i++) {
                        ctx.fillStyle = animCommon.colorMain; ctx.globalAlpha = active ? 1.0 : 0.3;
                        ctx.beginPath(); ctx.arc(lx, (i - (layers[l]-1)/2) * vGap, nodeR + (active?2.0:0), 0, Math.PI*2); ctx.fill();
                    }
                }
                ctx.restore();
                if (prog > 0.72) {
                    const outP = Math.min(1, (prog-0.72)/0.25); const ox = (cx + lGap + 8) + (outP * 30);
                    ctx.save(); ctx.fillStyle = animCommon.colorAccent; ctx.globalAlpha = Math.sin(outP * Math.PI);
                    ctx.beginPath(); ctx.rect(ox - 9, cy - 9, 18, 18); ctx.fill(); ctx.restore();
                }
            });
        })();

        // 4. MICRO-GESTURES ANIM
        (function() {
            const cycleL = 5000;
            function getHand(w, h, time) {
                const cx = w/2, p = (time % cycleL) / cycleL;
                let tapT = 0;
                if (p < 0.35) tapT = animCommon.easeInOutCubic(p/0.35)*0.15;
                else if (p < 0.45) tapT = 0.15 + ((p-0.35)/0.1)*0.85;
                else if (p < 0.75) tapT = 1.0;
                else tapT = 1.0 - animCommon.easeInOutCubic((p-0.75)/0.25);

                let fbAlpha = (p >= 0.45 && p < 0.5) ? (p-0.45)/0.05 : (p >= 0.5 && p < 0.75) ? 1 : (p >= 0.75 && p < 0.9) ? 1-(p-0.75)/0.15 : 0;

                const wrist = { x: cx-15, y: h-18 };
                const buildF = (off, lens, rots) => {
                    let joints = [{ x: wrist.x+off.x, y: wrist.y+off.y }];
                    let ang = -Math.PI/2;
                    for(let i=0; i<lens.length; i++) {
                        ang += (rots[i] || 0);
                        const last = joints[joints.length-1];
                        joints.push({ x: last.x + Math.cos(ang)*lens[i], y: last.y + Math.sin(ang)*lens[i] });
                    }
                    return joints;
                };
                const fingers = [
                    buildF({x:-30, y:0}, [28, 22], [0.8, 0.4]), // Thumb
                    buildF({x:-12, y:-24}, [32, 26, 16], [-0.15+tapT*0.35, 0.4+tapT*0.55, 0.3]), // Index
                    buildF({x:8, y:-28}, [38, 28, 19], [0.5, 1.2, 0.1]), // Middle
                    buildF({x:24, y:-22}, [26, 18, 12], [0.6, 1.2, 0.1]), // Ring
                    buildF({x:34, y:-14}, [18, 12, 10], [0.8, 1.2, 0.1])  // Pinky
                ];
                const targetX = fingers[1][fingers[1].length-1].x;
                const targetY = fingers[1][fingers[1].length-1].y;
                return { wrist, fingers, fbAlpha, targetX, targetY };
            }

            const drawBoneSegment = (ctx, p1, p2, width) => {
                const angle = Math.atan2(p2.y - p1.y, p2.x - p1.x);
                const dist = Math.sqrt(Math.pow(p2.x-p1.x, 2) + Math.pow(p2.y-p1.y, 2));
                if(dist < 1) return;
                ctx.save(); ctx.translate(p1.x, p1.y); ctx.rotate(angle);
                ctx.beginPath();
                const headS = width * 1.5; const shaftW = width * 0.65; 
                ctx.moveTo(0, -headS/2); ctx.quadraticCurveTo(dist*0.1, -headS/2, dist*0.3, -shaftW/2);
                ctx.lineTo(dist*0.7, -shaftW/2); ctx.quadraticCurveTo(dist*0.9, -headS/2, dist, -headS/2);
                ctx.lineTo(dist, headS/2); ctx.quadraticCurveTo(dist*0.9, headS/2, dist*0.7, shaftW/2);
                ctx.lineTo(dist*0.3, shaftW/2); ctx.quadraticCurveTo(dist*0.1, headS/2, 0, headS/2);
                ctx.closePath();
                ctx.fillStyle = 'rgba(15,15,15,0.98)'; ctx.fill();
                ctx.strokeStyle = '#FFFFFF'; ctx.lineWidth = 0.8; ctx.stroke();
                ctx.restore();
            };

            const drawFleshSilhouette = (ctx, wrist, joints, width) => {
                ctx.save(); ctx.beginPath(); ctx.lineCap = 'round'; ctx.lineJoin = 'round';
                ctx.strokeStyle = 'rgba(210,210,210,0.28)'; ctx.lineWidth = width * 2.4; 
                ctx.moveTo(wrist.x, wrist.y); joints.forEach(p => ctx.lineTo(p.x, p.y));
                ctx.stroke(); ctx.restore();
            };

            animCommon.setupCanvas('anim-gestures', (ctx, w, h) => {
                const s = getHand(w, h, Date.now());
                const drawOrder = [4, 3, 2, 1, 0];
                drawOrder.forEach(idx => drawFleshSilhouette(ctx, s.wrist, s.fingers[idx], idx === 4 ? 5.0 : idx === 0 ? 10 : 8));
                drawOrder.forEach(idx => {
                    const f = s.fingers[idx]; const baseW = idx === 4 ? 5.0 : idx === 0 ? 9.5 : 8;
                    drawBoneSegment(ctx, s.wrist, f[0], baseW);
                    for(let i=0; i<f.length-1; i++) drawBoneSegment(ctx, f[i], f[i+1], baseW * (1 - (i * 0.22)));
                });
                if (s.fbAlpha > 0.01) {
                    ctx.save(); ctx.globalAlpha = s.fbAlpha;
                    ctx.beginPath(); ctx.arc(s.targetX, s.targetY, 24, 0, Math.PI*2); ctx.fillStyle = "rgba(37, 99, 235, 0.12)"; ctx.fill();
                    ctx.setLineDash([4, 4]); ctx.strokeStyle = "rgba(37, 99, 235, 0.4)"; ctx.beginPath(); ctx.arc(s.targetX, s.targetY, 30, 0, Math.PI*2); ctx.stroke();
                    ctx.fillStyle = animCommon.colorAccent; ctx.beginPath(); ctx.arc(s.targetX, s.targetY, 8, 0, Math.PI*2); ctx.fill();
                    ctx.restore();
                }
            });
        })();
    </script>
</body>
</html>
